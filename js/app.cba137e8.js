(function(t){function e(e){for(var o,r,s=e[0],c=e[1],d=e[2],u=0,h=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/Orange-To-Do-Page/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0040":function(t,e,n){},"034f":function(t,e,n){"use strict";n("85ec")},"23a7":function(t,e,n){},"52d2":function(t,e,n){"use strict";n("0040")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r=(n("034f"),n("2877")),s={},c=Object(r["a"])(s,i,a,!1,null,null,null),d=c.exports,l=n("9483");Object(l["a"])("".concat("/Orange-To-Do-Page/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var u=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"home"}},[n("header",[t._v("待办事项")]),n("div",{staticClass:"operations"},[n("button",{attrs:{type:"button",id:"create-button",tabindex:"0"},on:{click:t.createItem}},[t._v(" 新建 ")])]),n("transition-group",{staticClass:"todo-list",attrs:{name:"todo-list"}},t._l(t.list,(function(t){return n("todo-item",{key:t.date,attrs:{code:t.date,data:t}})})),1)],1)},f=[],g=n("5530"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shadow",attrs:{id:"todo-item",draggable:!0},on:{dragstart:t.dragStart,dragenter:t.dragEnter}},[n("div",{ref:"elm",class:["box",{dragging:t.isDragging}]},[n("span",{class:[{checked:t.checked,animate:t.checked},"checkbox"],attrs:{tabindex:"0"},on:{click:t.checkSwitch}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"text",attrs:{type:"text"},domProps:{value:t.text},on:{focus:t.onFocus,blur:t.onBlur,input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("span",{class:["del",{"del-show":t.isEditing}],attrs:{tabindex:"0"},on:{click:t.clickDelete}})])])},v=[],m=(n("99af"),n("2f62")),b={props:["data"],data:function(){return{text:"",checked:!1,date:"",isEditing:!1,relativeLeft:0,relativeTop:0,shadowNode:{},rect:{},dragStart:this._dragStart.bind(this),dragEnd:this._dragEnd.bind(this),dragOver:this._dragOver.bind(this),dragEnter:this._dragEnter.bind(this)}},computed:Object(g["a"])({},Object(m["c"])("drag",["isDragging"])),created:function(){this.text=this.data.text,this.checked=this.data.checked,this.date=this.data.date},watch:{checked:function(t){this.mutate({checked:t,text:this.text,date:this.date})},text:function(t){this.mutate({checked:this.checked,text:t,date:this.date})}},methods:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(m["d"])("list",["delete","mutate"])),Object(m["d"])("drag",["updateMoveCode"])),Object(m["b"])("drag",["swap"])),{},{checkSwitch:function(t){this.checked=!this.checked,t.target.blur()},clickDelete:function(t){this.isEditing&&this.delete(this.date)},onFocus:function(){this.isEditing=!0},onBlur:function(){this.isEditing=!1},refreshRect:function(){return this.rect=this.$el.getBoundingClientRect(),this.rect},_dragStart:function(t){this.updateMoveCode(this.date),this.$el.classList.add("moving");var e=document.createElement("img");t.dataTransfer.setDragImage(e,0,0);var n=this.refreshRect();this.relativeLeft=t.clientX-n.left,this.relativeTop=t.clientY-n.top,this.shadowNode=this.$el.cloneNode(!0),this.shadowNode.style="\n      pointer-events: none;\n      width: ".concat(n.right-n.left,"px;\n      height: ").concat(n.bottom-n.top,"px;\n      position: fixed;\n      top: ").concat(n.top,"px;\n      left: ").concat(n.left,"px;\n      z-index: 1000;\n      contain: layout;\n      "),this.shadowNode.classList.add("clone"),this.$el.parentNode.appendChild(this.shadowNode),this.$refs.elm.style.opacity="0",document.body.addEventListener("dragover",this.dragOver),document.body.addEventListener("dragend",this.dragEnd)},_dragOver:function(t){t.preventDefault(),this.shadowNode.style.left=t.clientX-this.relativeLeft+"px",this.shadowNode.style.top=t.clientY-this.relativeTop+"px"},_dragEnter:function(t){t.currentTarget.classList.contains("moving")||(t.preventDefault(),this.swap(this.date))},_dragEnd:function(t){document.body.removeEventListener("dragend",this.dragEnd),document.body.removeEventListener("dragover",this.dragOver),this.updateMoveCode(-1),this.$el.classList.remove("moving"),this.shadowNode.remove(),this.$refs.elm.style=""}})},w=b,O=(n("5d70"),Object(r["a"])(w,p,v,!1,null,"31dd12c3",null)),x=O.exports,y={name:"Home",computed:Object(g["a"])({},Object(m["e"])("list",["list"])),components:{TodoItem:x},methods:Object(g["a"])(Object(g["a"])({},Object(m["d"])("list",["add"])),{},{createItem:function(t){this.add(),t.target.blur()}})},k=y,j=(n("52d2"),Object(r["a"])(k,h,f,!1,null,"02514719",null)),E=j.exports;o["a"].use(u["a"]);var _=[{path:"/",name:"Home",component:E}],S=new u["a"]({routes:_}),N=S,C=(n("a434"),function(t){var e=window.localStorage.getItem(t);return!e||"{"!==e.charAt(0)&&"["!==e.charAt(0)?e:JSON.parse(e)}),D=function(t,e){return"string"!==typeof e?window.localStorage.setItem(t,JSON.stringify(e)):window.localStorage.setItem(t,e)};o["a"].use(m["a"]);var L={namespaced:!0,state:{list:C("list")?C("list"):[]},mutations:{add:function(t){t.list.push({checked:!1,text:"",date:Date.now()}),D("list",t.list)},delete:function(t,e){var n;for(console.log(t),n=0;n<t.list.length;n++)if(t.list[n].date===e)break;t.list.splice(n,1),D("list",t.list)},mutate:function(t,e){var n;for(n=0;n<t.list.length;n++)if(t.list[n].date===e.date)break;t.list[n]=e,D("list",t.list)}}},T={namespaced:!0,state:{moveCode:-1,isDragging:!1},getters:{isDragging:function(t){return-1!==t.moveCode}},mutations:{updateMoveCode:function(t,e){t.moveCode=e}},actions:{swap:function(t,e){var n,i=t.state,a=t.rootState,r=a.list.list;for(n=0;n<r.length;n++)if(r[n].date===i.moveCode)break;var s,c,d=r[n];n-1>=0&&r[n-1].date===e?(s=r[n-1],c=n-1):n+1<r.length&&r[n+1].date===e&&(s=r[n+1],c=n+1),o["a"].set(r,n,s),o["a"].set(r,c,d)}}},$=new m["a"].Store({modules:{drag:T,list:L}}),P=$;o["a"].config.productionTip=!1,new o["a"]({router:N,store:P,render:function(t){return t(d)}}).$mount("#app")},"5d70":function(t,e,n){"use strict";n("23a7")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.cba137e8.js.map